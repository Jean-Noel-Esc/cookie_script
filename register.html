<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regsiter cookie script</title>
</head>
<body>

<h1> Premier cookie : la page d'enregistrement</h1>

<form name="loginForm">
    <p>
    Vous devez vous entegistrer avant de pouvoir visiter le reste du site.
    Pour cela saisissez vos nom et prénom puis cliquez sur le bouton "enregistrement". 
    </p>
    <input type= "text" name= "fullName" size= "35">
    <br>
    <input type= "button" value= "Enregistrement" size= "35"
    onClick = "register(loginForm.fullName.value)">
</form>
<script>

// Cette fonction renvoie la partie de la chaine 
// "monCookie=userName" située entre "=" et ";"
function getCookieVal (offset) {
    var endstr = document.cookie.indexOf (";", offset);
    if (endstr == -1) {
        enstr = document.cookie.length;
    }
    return unescape (document.cookie.substring(offset, endstr));
}

// Ici nous allons isoler le texte du cookie.
// Pour cela nous commencons par rechercher le nombre de caractères
// présent dans la chaine de caractères "monCookie="
function getCookie (cookieName) {
    var arg = cookieName + "=";
    var argLength = arg.length;

    // La longueur du cookie
    var cookieLength = document.cookie.length;
    
    // Maintenant nous devosn explorer caractère par caractère
    // le contenu du cookie pour retrouver celui qui nous intéresse;

    var i = 0;
    // soit tant que la compteur i est infèrieur au nombre de caratère du cookie ...
    
    while (i < cookieLength) {
    
    // Ici nous déclarons le compteur "j" du nombre de caractères de "monCookie"
    var j = i + argLength;

        // Si on trouve "monCookie" dans le cookie
        if ( doxument.cookie.substring(i, j == arg)){
            //on renvoie la valeur qui lui est associé 
            return getCookieVal(j)
        }
        // i = document.cookie.indexOf(" ", i) + 1;
    }
    if ( i == 0 ) {
        break
    }
    return null;
}



</script>
    
</body>
</html>